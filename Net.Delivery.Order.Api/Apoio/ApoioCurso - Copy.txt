public abstract class ClientBase
{
    protected static async Task<T> DeserializarObjetoResponse<T>(HttpResponseMessage responseMessage)
    {
        return JsonConvert.DeserializeObject<T>(await responseMessage.Content.ReadAsStringAsync()) ?? default;
    }

    public static HttpContent CreateContent<T>(T data)
    {
        HttpContent content = new StringContent(JsonConvert.SerializeObject(data));

        content.Headers.ContentType = new MediaTypeHeaderValue("application/json");

        return content;
    }

    protected static void TratarErrosResponse(HttpResponseMessage response, string errorMessage)
    {
        if (response.StatusCode == HttpStatusCode.BadRequest) throw new BusinessException(errorMessage);

        response.EnsureSuccessStatusCode();
    }
}